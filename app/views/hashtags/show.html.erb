<div class="max-w-4xl mx-auto px-4 py-8">
  <!-- Header -->
  <div class="bg-white rounded-lg border border-gray-200 p-6 mb-6">
    <div class="flex items-center justify-between">
      <div>
        <h1 class="text-3xl font-bold text-gray-900 mb-2">
          <span class="hashtag">#<%= @hashtag %></span>
        </h1>
        <p class="text-gray-600">
          <%= pluralize(@comment_count, 'comment') %> in <%= pluralize(@games_count, 'game') %>
        </p>
      </div>
      <div class="text-right">
        <%= link_to "← Back to Games", games_path,
              class: "inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200" %>
      </div>
    </div>
  </div>

  <!-- Related Hashtags -->
  <% if @related_hashtags.any? %>
    <div class="bg-white rounded-lg border border-gray-200 p-4 mb-6">
      <h3 class="text-sm font-medium text-gray-900 mb-3">Related Hashtags</h3>
      <div class="flex flex-wrap gap-2">
        <% @related_hashtags.each do |tag| %>
          <%= link_to hashtag_path(tag),
                class: "inline-flex items-center px-3 py-1 rounded-full text-sm bg-gray-100 text-gray-700 hover:bg-gray-200" do %>
            <span class="hashtag">#<%= tag %></span>
          <% end %>
        <% end %>
      </div>
    </div>
  <% end %>

  <!-- Comments -->
  <div class="space-y-4">
    <% if @comments.any? %>
      <% @comments.each do |comment| %>
        <div class="bg-white rounded-lg border border-gray-200 p-6">
          <div class="flex items-start space-x-3">
            <!-- User Avatar -->
            <div class="flex-shrink-0">
              <div class="w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-medium">
                <%= comment.user.avatar_placeholder %>
              </div>
            </div>

            <!-- Comment Content -->
            <div class="flex-grow">
              <div class="flex items-center space-x-2 mb-2">
                <h4 class="text-sm font-medium text-gray-900">
                  <%= link_to comment.user.display_name, user_path(comment.user), class: "hover:text-blue-600" %>
                </h4>
                <span class="text-xs text-gray-500">commented on</span>
                <h5 class="text-sm font-medium text-blue-600">
                  <%= link_to comment.game.name, game_path(comment.game), class: "hover:text-blue-800" %>
                </h5>
                <span class="text-xs text-gray-500">
                  <%= l comment.created_at, format: :short %>
                </span>
                <% if comment.updated_at > comment.created_at + 1.minute %>
                  <span class="text-xs text-gray-400"><%= t('comments.edited') %></span>
                <% end %>
              </div>

              <div class="text-sm text-gray-700 comment-content">
                <%= comment.content_html %>
              </div>

              <!-- Game link -->
              <div class="mt-3 pt-3 border-t border-gray-100">
                <%= link_to game_path(comment.game),
                      class: "text-sm text-blue-600 hover:text-blue-800" do %>
                  View on <%= comment.game.name %> →
                <% end %>
              </div>
            </div>
          </div>
        </div>
      <% end %>
    <% else %>
      <div class="bg-white rounded-lg border border-gray-200 p-8 text-center">
        <svg class="mx-auto h-12 w-12 text-gray-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 20l4-16m2 16l4-16M6 9h14M4 15h14"></path>
        </svg>
        <h3 class="text-lg font-medium text-gray-900 mb-2">No comments found</h3>
        <p class="text-gray-500">
          No comments with the hashtag <span class="hashtag">#<%= @hashtag %></span> were found.
        </p>
      </div>
    <% end %>
  </div>

  <!-- Load More (if needed) -->
  <% if @comments.count == 50 %>
    <div class="text-center mt-8">
      <p class="text-gray-500 text-sm">
        Showing first 50 comments. More search functionality coming soon!
      </p>
    </div>
  <% end %>
</div>
